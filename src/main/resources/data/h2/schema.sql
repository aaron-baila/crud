DROP TABLE VEHICULOS IF EXISTS;
DROP SEQUENCE 	VEHICULOS_SEQ 	IF EXISTS;

CREATE SEQUENCE "VEHICULOS_SEQ"
	MINVALUE 1000
	MAXVALUE 999999999
	INCREMENT BY 50
	START WITH 1000
	NOCACHE
	NOCYCLE;

DROP TABLE MANTENIMIENTOS IF EXISTS;
DROP SEQUENCE 	MANTENIMIENTOS_SEQ 	IF EXISTS;

CREATE SEQUENCE "MANTENIMIENTOS_SEQ"
	MINVALUE 1000
	MAXVALUE 999999999
	INCREMENT BY 50
	START WITH 1000
	NOCACHE
	NOCYCLE;

DROP TABLE FACTURAS IF EXISTS;
DROP SEQUENCE 	FACTURAS_SEQ 	IF EXISTS;

CREATE SEQUENCE "FACTURAS_SEQ"
    	MINVALUE 1000
    	MAXVALUE 999999999
    	INCREMENT BY 50
    	START WITH 1000
    	NOCACHE
    	NOCYCLE;

CREATE TABLE VEHICULOS(
	ID					BIGINT			NOT NULL,
	MATRICULA			VARCHAR(100)	,
	MODELO				VARCHAR(100)	,
	KM			        BIGINT,
	PRIMARY KEY (ID)
);

	CREATE TABLE MANTENIMIENTOS(
    	ID					BIGINT NOT NULL,
    	TIPO			    VARCHAR(100),
    	FECHA				DATE,
    	KM			        BIGINT,
    	PROXIMA				DATE,
    	DESCRIPCION         VARCHAR(100),
    	VEHICULO            BIGINT,

    	PRIMARY KEY (ID),
    	FOREIGN KEY (VEHICULO) REFERENCES VEHICULOS (ID)
);

CREATE TABLE FACTURAS(
	ID					BIGINT			NOT NULL,
	FECHA				DATE,
	DESCRIPCION         VARCHAR(100),
	PRECIO              BIGINT,
	MANTENIMIENTO       BIGINT,

	PRIMARY KEY (ID),
	FOREIGN KEY (MANTENIMIENTO) REFERENCES MANTENIMIENTOS (ID)
);